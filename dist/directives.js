var N="__cI4Mp6yr0__",f=e=>(...a)=>({id:N,type:"attr",callback:e,args:a}),E=e=>(...a)=>({id:N,type:"node",callback:e,args:a});var x=(e,a)=>{Object.entries(a).forEach(([s,n])=>{switch(s){case"className":{n.split(/\s{1,}/).forEach(t=>{let r=t.trim();r&&e.classList.add(r)});break}case"style":Object.assign(e.style,n);break;case"dataset":Object.assign(e.dataset,n);break;default:if(s.startsWith("[")&&s.endsWith("]")){let r=s.substring(1,s.length-1);n===!1?e.removeAttribute(r):e.setAttribute(r,n===!0?"":n)}else e[s]!==n&&(e[s]=n)}})};var I=e=>{let a=new Text(""),s=!1,n=()=>{s&&(a.replaceWith(e),s=!1)};return{node:e,classMap:t=>{Object.entries(t).forEach(([r,i])=>{i?e.classList.add(r):e.classList.remove(r)})},attrMap:t=>{Object.entries(t).forEach(([r,i])=>{i===!1?e.removeAttribute(r):e.setAttribute(r,i===!0?"":i)})},dataMap:t=>{Object.entries(t).forEach(([r,i])=>{i===!1?delete e.dataset[r]:e.dataset[r]=i===!0?"":i})},text:t=>{e.textContent!==t&&(e.textContent=t)},style:t=>x(e,{style:t}),attrs:t=>x(e,t),show:()=>{e.style.removeProperty("display"),n()},hide:()=>{e.style.setProperty("display","none"),n()},remove:()=>{s||(e.replaceWith(a),s=!0)}}};var R=f((e,a)=>{a.forEach(({node:s,args:[n]})=>{Object.defineProperty(e,n,{value:I(s)})})});var O=E((e,a)=>{a.forEach(({node:s,args:[n,t]})=>{let r=new Text(t||"");s.replaceWith(r),Object.defineProperty(e,n,{enumerable:!0,get:()=>r.textContent,set:i=>{let l=String(i);r.textContent!==l&&(r.textContent=l)}})})});var d=e=>!!(e&&(e.constructor===Object||Object.getPrototypeOf(e)===null));var M="__PzroJBb1g__";var D=e=>d(e)&&"$"in e&&d(e.$)&&"id"in e.$&&e.$.id===M;var b="__un3Mvl07V__",g=({container:e,items:a,node:s,ref:n,key:t=(l,{key:p})=>String(p),keyName:r="data-h-list-key",indexKeyName:i="data-h-list-index"})=>{let l=Array.isArray(a)?a.entries():a instanceof Map?a:a instanceof Set?Array.from(a).entries():Object.entries(a),p=new Map;for(let c of e.querySelectorAll(`:scope > [${r}]`))p.set(c.getAttribute(r),c);let m=0;for(let[c,y]of l){let u=String(c),P=String(t(y,{key:u,index:m})),T=p.get(P)||s(y,{key:u,index:m});p.delete(P);let o=D(T)?T.$.node:T;if(!(o instanceof Element))throw new Error("Each list item must contain only a single root node");if(Math.abs(Number(o.getAttribute(i)||1/0)-m)>0&&(o.remove(),o.setAttribute(r,P),o.setAttribute(i,String(m)),e.append(o)),n){D(T)&&Object.defineProperty(o,b,{enumerable:!1,value:T});let L=b in o?o[b]:o;n(L,y,{key:u,index:m})}m++}p.forEach(c=>c.remove())};var S=e=>f((a,s)=>{s.forEach(({node:n,args:[t]})=>{let{name:r}=t,i={...t,container:n};Object.defineProperty(a,r,{enumerable:!0,get:()=>i.items,set:l=>{i.items=l,g(i)}}),g(i)})})(e);var k=E((e,a)=>{a.forEach(({node:s,args:[n,t]})=>{s.appendChild(t.$.node),Object.defineProperty(e,n,{value:t,enumerable:!0})})});var A=E((e,a)=>{a.forEach(({node:s,args:[n,t={}]})=>{s.replaceWith(n.$.node);let{$:r,...i}=Object.getOwnPropertyDescriptors(n);t.directives!==!1&&Object.defineProperties(e,i),t.callbacks===!0&&n.$.callbacks.forEach(l=>{e.$.callbacks.add(l)})})}),C=e=>A(e,{callbacks:!0,directives:!0});export{S as $list,A as $merge,C as $mergeAll,k as $nest,R as $ref,O as $text};
//# sourceMappingURL=directives.js.map
